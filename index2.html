<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Delete from list</title>
    <link rel="stylesheet" href="style1.css">
    
  </head>
  <body>
    <section class="container">
        <form onsubmit="localStorage(event)" id="my-form">
          <label> Name: </label>
          <input type="text" name="username" *required>
          <label> EmailId: </label>
          <input type="email" name="emailId" *required>
          <label>Phone Number: </label>
          <input type="tel" name="phonenumber">
          <input class="btn" type="submit" value="Submit">
      
        </form>
    </section>    
      <ul id="listOfitems"></ul>
      <script>
        function saveToLocalStorage(event){
            event.preventDefault();
            const username =event.target.username.value;
            const email = event.target.emailId.value;
            const phonenumber =event.target.phonenumber.value;
            const obj = {
                username,
                email,
                phonenumber
            }
            localStorage.setItem(obj.email,JSON.stringify(obj))
            showUserOnScreen(obj)
        }
      </script>
      
    <script>
        
        function showUserOnScreen(obj){
            const parentElem = document.getElementById("listOfitems")
            const childElem = document.createElement('li')
            childElem.textContent = obj.username + ' - ' + obj.email + ' - ' + obj.phonenumber

            const deleteButton = document.createElement('input')
            deleteButton.type = "button"
            deleteButton.value = "Delete"
            deleteButton.onclick = () => {
              localStorage.removeItem(obj.email)
              parentElem.removeChild(childElem)
            }
            childElem.appendChild(deleteButton)
            parentElem.appendChild(childElem)
        }

    </script>
  </body>
</html>